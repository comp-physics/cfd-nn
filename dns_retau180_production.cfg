# Production DNS at Re_tau = 180
# Stretched y-grid with semi-coarsening MG solver
# Run to t* >= 10 for Stage F validation

Nx = 64
Ny = 64
Nz = 64

# Domain: Lx=4pi, Ly=2, Lz=4pi/3 (minimal channel)
x_min = 0.0
x_max = 12.566370614
y_min = -1.0
y_max = 1.0
z_min = 0.0
z_max = 4.188790205

# Re_tau = 180: u_tau = 1, delta = 1, nu = 1/180
nu = 0.005555556
dp_dx = -1.0
rho = 1.0

# Grid stretching for wall resolution
stretch_y = true
stretch_beta = 2.0

# DNS - no turbulence model
turb_model = none

# Time integration
simulation_mode = unsteady
dt = 0.0005
adaptive_dt = true
CFL_max = 0.5

# t* = t * u_tau / delta = t * 1 / 1 = t
# For t* = 10: max_time = 10
# Run longer to ensure turbulence develops and statistics converge
max_time = 15.0
max_steps = 200000

# DNS numerics - skew-symmetric for energy conservation
convective_scheme = skew
time_integrator = rk3

# Initial perturbation
perturbation_amplitude = 0.1

# MG solver (semi-coarsening for stretched y)
poisson_solver = mg
poisson_fixed_cycles = 0
poisson_tol_rhs = 1e-6
poisson_max_vcycles = 50

# Divergence tolerance (suppress alerts when acceptable)
div_tol_acceptable = 1e-6
projection_watchdog = true

# Output and diagnostics
output_dir = output/dns_retau180_production/
num_snapshots = 50
diag_interval = 200
write_fields = false
verbose = true
