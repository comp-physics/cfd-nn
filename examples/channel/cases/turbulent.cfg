# DNS-like Turbulent Channel Flow (no RANS model)
# Requires high Reynolds number and fine grid to resolve turbulence

simulation_mode = unsteady    # CRITICAL: Must be unsteady

# Fine grid for turbulence resolution
Nx = 256
Ny = 512

# Domain geometry
x_min = 0.0
x_max = 6.283185307179586    # 2*pi
y_min = -1.0
y_max = 1.0

# High Reynolds number (Re_tau ~ 180)
nu = 0.0005555555555555556    # = 1/180
dp_dx = -1.0                   # Strong pressure gradient

# Grid stretching near walls
stretch_y = true
stretch_beta = 2.5

# Time stepping (smaller dt for stability at high Re)
dt = 0.00001
adaptive_dt = true
CFL_max = 0.5                 # More conservative for DNS

# Run for many time steps (turbulence needs time to develop)
max_iter = 100000              # Number of time steps
tol = 0.0                     # Not used in unsteady mode

# No turbulence model (DNS)
turb_model = none

# Numerical schemes
convective_scheme = upwind

# Output
output_dir = output/
output_freq = 100
num_snapshots = 100            # More snapshots to see evolution
verbose = true
write_fields = true
postprocess = false            # Skip Poiseuille comparison (not steady)

# Poisson solver
poisson_tol = 1e-4
poisson_max_iter = 3
poisson_omega = 1.8

perturbation_amplitude = 150.0    # Visible perturbation magnitude
