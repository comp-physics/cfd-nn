# 3D Taylor-Green Vortex - Re = 1600 (High Resolution DNS)
# Fine grid for well-resolved turbulence simulation
#
# This configuration uses 128^3 grid for better resolution of:
#   - Small-scale vortex structures
#   - Energy cascade
#   - Dissipation rate
#
# H200 GPU should handle this easily (~2M cells)

# Domain: [0, 2*pi]^3
Nx = 128
Ny = 128
Nz = 128
x_min = 0.0
x_max = 6.283185307
y_min = 0.0
y_max = 6.283185307
z_min = 0.0
z_max = 6.283185307

# Physics - Re = 1600
nu = 0.000625
dp_dx = 0.0
rho = 1.0

# No stretching
stretch_y = false
stretch_z = false

# DNS - no turbulence model
turb_model = none

# Time stepping - unsteady
simulation_mode = unsteady
T_final = 20.0
dt = 0.002
adaptive_dt = true
CFL_max = 0.4
max_steps = 10000

# Energy-conserving schemes for DNS
convective_scheme = skew
time_integrator = rk3

# Poisson solver
poisson_solver = auto
poisson_tol_rhs = 1e-8

# Output
output_dir = output/tgv_re1600_dns_fine/
num_snapshots = 50
write_fields = true
postprocess = false
verbose = true
