# Turbulent channel, target Re_tau ~ 180, compare to Moser/Kim/Mansour (1999)
# DNS benchmark reference: JFM 399, 263-291 (1999)
# https://turbulence.oden.utexas.edu/data/MKM/

# --- Mesh / domain ---
Nx = 256
Ny = 512
x_min = 0.0
x_max = 6.283185307179586   # 2*pi
y_min = -1.0
y_max = 1.0

# Stretched wall-normal grid (recommended for near-wall resolution)
stretch_y = true
stretch_beta = 2.5

# --- Physics ---
rho = 1.0
nu = 0.005555555555555556   # = 1/180
dp_dx = -1.0                # => u_tau ~ 1, Re_tau ~ 1/nu ~ 180

# NOTE: Do NOT also set Re in config, as it will be computed from nu and dp_dx
# to avoid over-constraint. The finalize() method will compute:
# Re = -dp_dx * delta^3 / (3 * nu^2) where delta = (y_max - y_min)/2 = 1.0

# --- Numerics / time marching ---
dt = 0.001
adaptive_dt = true
CFL_max = 0.5

max_steps = 10000     # Steady RANS
tol = 1e-6

convective_scheme = upwind

# --- Turbulence model (RANS) ---
turb_model = sst

# --- Output ---
output_dir = output/         # include trailing slash
output_freq = 100           # Print progress every 100 iterations
num_snapshots = 10
verbose = true

# --- Poisson solver ---
poisson_tol = 1e-6
poisson_max_steps = 10
poisson_omega = 1.8


