# 2D Channel DNS - Unsteady Turbulent Fluctuations
# No turbulence model - resolves all scales directly
# Re_tau ~ 180, matching MKM DNS benchmark
#
# Note: True 3D turbulence cannot exist in 2D, but this case captures
# unsteady dynamics and can exhibit 2D turbulence characteristics
# (inverse energy cascade, vortex dynamics)

simulation_mode = unsteady

# --- Grid ---
# Higher resolution for DNS-like behavior
Nx = 128
Ny = 256

# --- Domain ---
x_min = 0.0
x_max = 6.283185307179586  # 2*pi (allows one wavelength of largest structures)
y_min = -1.0
y_max = 1.0

# --- Physics ---
# Re_tau = u_tau * delta / nu = 180
# With delta = 1, u_tau = 1: nu = 1/180
nu = 0.005556
dp_dx = -1.0    # Gives u_tau ~ 1

# --- Time stepping ---
# Run for many flow-through times to capture statistics
# Convective time scale: L/U ~ 2*pi / 1 ~ 6
# Run for ~100 convective times
dt = 0.002
adaptive_dt = true
CFL_max = 0.5
max_iter = 50000    # T_final ~ 100 convective times
tol = 0.0           # No convergence check - unsteady simulation

# --- Turbulence model ---
turb_model = none   # DNS - no model

# --- Numerical schemes ---
convective_scheme = central    # 2nd order accurate, no numerical dissipation

# --- Grid stretching ---
# Cluster points near walls for boundary layer resolution
stretch_y = true
stretch_beta = 2.0

# --- Poisson solver ---
poisson_tol = 1e-6
poisson_max_iter = 10
poisson_omega = 1.8

# --- Output ---
output_dir = output/dns/
output_freq = 500       # Print every 500 iterations
num_snapshots = 50      # 50 VTK snapshots for animation
verbose = true
postprocess = false     # No steady-state comparison
write_fields = true
