# 3D Taylor-Green Vortex DNS - Re = 1600
# High Re case with vortex stretching and transition to turbulence
# This is a standard DNS benchmark (e.g., Brachet et al. 1983)
# Unsteady simulation - will NOT converge to steady state

simulation_mode = unsteady

# --- Grid (3D cubic) ---
Nx = 64
Ny = 64
Nz = 64

# --- Domain: [0, 2*pi]^3 ---
x_min = 0.0
x_max = 6.283185307179586
y_min = 0.0
y_max = 6.283185307179586
z_min = 0.0
z_max = 6.283185307179586

# No stretching
stretch_y = false
stretch_z = false

# --- Physics ---
# Re = V0 * L / nu = 1 * 1 / 0.000625 = 1600
nu = 0.000625
Re = 1600

# --- Time stepping ---
dt = 0.002
adaptive_dt = true
CFL_max = 0.3
max_iter = 10000       # Run to T ~ 20 (well into turbulent regime)
tol = 0.0              # No convergence check - unsteady DNS

# --- Turbulence model ---
turb_model = none      # DNS

# --- Numerical schemes ---
convective_scheme = central

# --- Poisson solver ---
poisson_tol = 1e-6
poisson_max_iter = 10
poisson_omega = 1.8

# --- Output ---
output_dir = output/
output_freq = 100
num_snapshots = 20
verbose = false
write_fields = true
