# 3D Taylor-Green Vortex DNS - Re = 800, 128^3
# Canonical case for observing laminar -> turbulence transition
# Reference: Brachet et al. (1983), JFM
#
# Timeline at Re=800:
#   t ~ 0-4:   Laminar phase, large-scale vortices
#   t ~ 4-7:   Vortex stretching and transition
#   t ~ 7-9:   Peak enstrophy (~1300) - fully turbulent
#   t ~ 9-30:  Turbulent decay
#
# Run to T=30 with 50 snapshots to capture all phases
#
# Usage: ./taylor_green_3d --Re 800 --T 30 --config tg_re1600_coarse.cfg

simulation_mode = unsteady

# --- Grid (128^3 for DNS at Re=800) ---
Nx = 128
Ny = 128
Nz = 128

# --- Domain: [0, 2*pi]^3 ---
x_min = 0.0
x_max = 6.283185307179586
y_min = 0.0
y_max = 6.283185307179586
z_min = 0.0
z_max = 6.283185307179586

# No stretching (uniform grid, periodic box)
stretch_y = false
stretch_z = false

# --- Physics ---
# Re = V0 * L / nu = 1 * 1 / 0.00125 = 800
nu = 0.00125
Re = 800

# --- Time stepping ---
dt = 0.002
adaptive_dt = false
CFL_max = 0.5
max_steps = 15001      # Run to T ~ 30
tol = 0.0             # No convergence check - unsteady

# --- Turbulence model ---
turb_model = none     # DNS (no model)

# --- Numerical schemes ---
# Central differencing for DNS (no numerical dissipation)
convective_scheme = central

# --- Poisson solver ---
poisson_tol = 1e-6
poisson_max_vcycles = 10
poisson_omega = 1.8

# --- Output ---
output_dir = output/
output_freq = 100     # Print progress every 100 iterations
num_snapshots = 50    # 50 VTK snapshots over simulation
verbose = false
write_fields = true
