# 128^3 Channel Flow for HYPRE Profiling
# Configuration for nsight systems profiling

simulation_mode = unsteady

# --- Grid (3D 128^3) ---
Nx = 128
Ny = 128
Nz = 128

# --- Domain ---
# Streamwise: periodic (2*pi)
x_min = 0.0
x_max = 6.283185307179586   # 2*pi

# Channel: wall-bounded in y
y_min = -1.0
y_max = 1.0

# Spanwise: periodic (pi)
z_min = 0.0
z_max = 3.141592653589793   # pi

# --- Grid stretching ---
# Cluster points near walls in y only
stretch_y = true
stretch_beta = 2.0

# --- Physics ---
nu = 0.001
dp_dx = -0.01    # Pressure gradient drives the flow

# --- Time stepping ---
dt = 0.001
adaptive_dt = false
max_iter = 100      # 100 steps for profiling
tol = 0.0            # No convergence check - unsteady

# --- Turbulence model ---
turb_model = none    # Laminar for profiling

# --- Numerical schemes ---
convective_scheme = central

# --- Poisson solver ---
poisson_tol = 1e-6
poisson_max_iter = 3    # Max 3 iterations per time step
poisson_omega = 1.8

# --- Output ---
output_dir = output_profile/
output_freq = 1000      # Higher than max_iter, so no intermediate output
num_snapshots = 0       # No VTK snapshots
verbose = true
postprocess = false
write_fields = false    # No field output
use_hypre = true
